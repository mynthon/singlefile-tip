var net_mynthon_tipka=function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n
.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,r=void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive]
;if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?r:String
(r)),n)}var o,r}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o=function(){function t(){e(this,t)}return n(t,[{key:"getBoundingClientRectExtended"
,value:function(t){var e=t.getBoundingClientRect(),i=e.top+.5*e.height,n=e.left+.5*e.width;return Object.assign(e,{vCenter:i,hCenter:n})}},{key:"findBestFit",value:function(t,e,i,n,o){var r=window.innerWidth/
(e.width+n+n);r>1&&(r=1);var s=t.top/(e.height+i+n);s>1&&(s=1);var a=(window.innerHeight-t.bottom)/(e.height+i+n);a>1&&(a=1);var l=window.innerHeight/(e.height+n+n);l>1&&(l=1);var u=t.left/(e.width+i+n)
;u>1&&(u=1);var h=(window.innerWidth-t.right)/(e.width+i+n);h>1&&(h=1);for(var c=[],f=0;f<o.length;f++){var d=o[f];if("t"===d){if(1===r&&1===s)return d;c.push({fitCode:d,ratio:r+s})}else if("b"===d){if
(1===r&&1===a)return d;c.push({fitCode:d,ratio:r+a})}else if("l"===d){if(1===l&&1===u)return d;c.push({fitCode:d,ratio:l+u})}else if("r"===d){if(1===l&&1===h)return d;c.push({fitCode:d,ratio:l+h})}}return c
.sort((function(t,e){return e.ratio-t.ratio})),c[0].fitCode}},{key:"calcTopBottomHorizontalPos",value:function(t,e,i){var n=t.hCenter-.5*e.width,o=t.hCenter-i-.5*e.width,r=window.innerWidth-t.hCenter-i-
.5*e.width;return o>=0&&r>=0?n:o<0?n-o:n+r}},{key:"calcLeftRightVerticalPos",value:function(t,e,i){var n=t.vCenter-.5*e.height,o=t.vCenter-i-.5*e.height,r=window.innerHeight-t.vCenter-i-.5*e.height;return o>=0&&r>=0?n:o<0?n-o:n+r}}
,{key:"getXY",value:function(t,e,i,n,o){return"t"===o?{x:window.scrollX+this.calcTopBottomHorizontalPos(t,e,n),y:window.scrollY+t.top-i-e.height}:"b"===o?{x:window.scrollX+this.calcTopBottomHorizontalPos
(t,e,n),y:window.scrollY+t.bottom+i}:"l"===o?{x:window.scrollX+t.left-i-e.width,y:window.scrollY+this.calcLeftRightVerticalPos(t,e,n)}:"r"===o?{x:window.scrollX+t.right+i,y:window.scrollY+this.calcLeftRightVerticalPos
(t,e,n)}:void 0}},{key:"getTooltipParameters",value:function(t,e,i){var n=this.getBoundingClientRectExtended(t),o=this.getBoundingClientRectExtended(e),r=Object.assign({fits:["t","r","b","l"],offset:10
,windowOffset:5},null!=i?i:{}),s=this.findBestFit(n,o,r.offset,r.windowOffset,r.fits);return Object.assign(this.getXY(n,o,r.offset,r.windowOffset,s),{bestFit:s})}}]),t}(),r=function(){function t(i){e(this
,t),this.div=null,this.id=(new Date).getTime()+""+Math.round(1e4*Math.random())}return n(t,[{key:"init",value:function(){if(!document.getElementById(this.id)){var t=document.createElement("div");t.id=this
.id,this.setStyles(t,{background:"#f9f9f9",border:"1px solid #888",borderRadius:"3px",boxShadow:"#888 0px 0px 3px 0",left:"-100000px",maxHeight:"500px",minHeight:"20px",opacity:0,overflow:"auto",padding:"6px"
,position:"absolute",top:"-100000px",transition:"opacity 200ms",minWidth:"100px",maxWidth:"600px",zIndex:1e4}),document.querySelector("body").appendChild(t),this.div=t}return this}},{key:"setStyles",value:function
(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(i){t.style[i]=e[i]}))}},{key:"open",value:function(t,e){var i=this.init().getContainer();return i.classList
.add("tipka-opened"),this.setStyles(i,{left:t+"px",top:e+"px",opacity:1}),this}},{key:"close",value:function(){var t=this.init().getContainer();return t.classList.remove("tipka-opened"),this.setStyles
(t,{left:"-100000px",top:"-100000px",opacity:0}),this}},{key:"setContent",value:function(t){if("string"==typeof t)this.init().getContainer().innerHTML=t;else if(t instanceof HTMLElement){var e=this.init
().getContainer();e.innerHTML="",e.appendChild(t)}}},{key:"getContainer",value:function(){return this.init().div}}]),t}(),s=function(){function t(){var i=this;e(this,t),this.container=new r,this.positioner=new o
,this._rollOutCloseDelayTimeoutId=null,this.trigger=null,this._opts={fits:["r","t","b","l"]};var n=this.container.init().getContainer();n.addEventListener("mouseenter",(function(t){clearTimeout(i._rollOutCloseDelayTimeoutId)}))
,n.addEventListener("mouseleave",(function(t){i.close()}))}return n(t,[{key:"setDefaults",value:function(t){return this._opts=Object.assign(this._opts,null!=t?t:{}),this}},{key:"attach",value:function
(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.tipkaOpts=i,t.addEventListener("mouseover",(function(i){e.open(t)})),t.addEventListener("mouseout",(function(t){e.delayedClose
()})),this}},{key:"open",value:function(t){clearTimeout(this._rollOutCloseDelayTimeoutId),this.trigger=t;var e=this.getOpt(t,"content",null),i=this.positioner.getTooltipParameters(t,this.container.getContainer
(),{fits:this.getOpt(t,"fits",null)});"function"==typeof e?e(this):this.container.setContent(e),this.container.open(i.x,i.y)}},{key:"close",value:function(){this.container.close()}},{key:"delayedClose"
,value:function(t){t="number"==typeof t&&t>=0?t:100,this._rollOutCloseDelayTimeoutId=setTimeout(this.close.bind(this),t)}},{key:"setText",value:function(t){this.container.setContent(t)}},{key:"getOpt"
,value:function(t,e,i){return t.tipkaOpts[e]||this._opts[e]||i}}]),t}();return t.Tipka=s,t}({});